{"ast":null,"code":"var _class;\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/router\";\nimport * as i2 from \"src/app/auth/authentication.service\";\nimport * as i3 from \"@angular/material/input\";\nimport * as i4 from \"@angular/material/form-field\";\nimport * as i5 from \"@angular/material/button\";\nimport * as i6 from \"@angular/forms\";\nexport class PocetnaStranaComponent {\n  constructor(router, authService) {\n    this.router = router;\n    this.authService = authService;\n    this.email = '';\n    this.password = '';\n    this.userType = 'student'; // Default value\n  } // Inject HttpClient servis\n  submit() {\n    console.log('Email:', this.email);\n    console.log('Password:', this.password);\n    console.log('User Type:', this.userType);\n    if (this.userType === 'student') {\n      this.authService.loginStudent(this.email, this.password).subscribe({\n        next: response => {\n          console.log(this.authService.currentStudent);\n          const token = response.access_token;\n          localStorage.setItem(this.email, token);\n          this.router.navigate(['/student']);\n        },\n        error: error => {\n          console.error('Greška pri prijavi:', error);\n        }\n      });\n    } else if (this.userType === 'profesor') {\n      this.authService.loginProfesor(this.email, this.password).subscribe({\n        next: response => {\n          const token = response.access_token;\n          localStorage.setItem('jwtToken', token);\n          const data = {\n            key: this.email\n          };\n          this.router.navigate(['/profesor'], {\n            state: data\n          });\n        },\n        error: error => {\n          console.error('Greška pri prijavi:', error);\n        }\n      });\n    }\n  }\n}\n_class = PocetnaStranaComponent;\n_class.ɵfac = function PocetnaStranaComponent_Factory(t) {\n  return new (t || _class)(i0.ɵɵdirectiveInject(i1.Router), i0.ɵɵdirectiveInject(i2.AuthenticationService));\n};\n_class.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: _class,\n  selectors: [[\"app-pocetna-strana\"]],\n  decls: 15,\n  vars: 4,\n  consts: [[1, \"login-container\"], [\"matInput\", \"\", \"placeholder\", \"Email\", 3, \"ngModel\", \"ngModelChange\"], [\"matInput\", \"\", \"type\", \"password\", \"placeholder\", \"Password\", 3, \"ngModel\", \"ngModelChange\"], [1, \"user-type\"], [\"type\", \"radio\", \"value\", \"student\", 3, \"ngModel\", \"ngModelChange\"], [\"type\", \"radio\", \"value\", \"profesor\", 3, \"ngModel\", \"ngModelChange\"], [\"mat-raised-button\", \"\", \"color\", \"primary\", 3, \"click\"]],\n  template: function PocetnaStranaComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\", 0)(1, \"mat-form-field\")(2, \"input\", 1);\n      i0.ɵɵlistener(\"ngModelChange\", function PocetnaStranaComponent_Template_input_ngModelChange_2_listener($event) {\n        return ctx.email = $event;\n      });\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(3, \"mat-form-field\")(4, \"input\", 2);\n      i0.ɵɵlistener(\"ngModelChange\", function PocetnaStranaComponent_Template_input_ngModelChange_4_listener($event) {\n        return ctx.password = $event;\n      });\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(5, \"div\", 3)(6, \"label\")(7, \"input\", 4);\n      i0.ɵɵlistener(\"ngModelChange\", function PocetnaStranaComponent_Template_input_ngModelChange_7_listener($event) {\n        return ctx.userType = $event;\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(8, \" Student \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(9, \"label\")(10, \"input\", 5);\n      i0.ɵɵlistener(\"ngModelChange\", function PocetnaStranaComponent_Template_input_ngModelChange_10_listener($event) {\n        return ctx.userType = $event;\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(11, \" Profesor \");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelement(12, \"br\");\n      i0.ɵɵelementStart(13, \"button\", 6);\n      i0.ɵɵlistener(\"click\", function PocetnaStranaComponent_Template_button_click_13_listener() {\n        return ctx.submit();\n      });\n      i0.ɵɵtext(14, \"Submit\");\n      i0.ɵɵelementEnd()();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"ngModel\", ctx.email);\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"ngModel\", ctx.password);\n      i0.ɵɵadvance(3);\n      i0.ɵɵproperty(\"ngModel\", ctx.userType);\n      i0.ɵɵadvance(3);\n      i0.ɵɵproperty(\"ngModel\", ctx.userType);\n    }\n  },\n  dependencies: [i3.MatInput, i4.MatFormField, i5.MatButton, i6.DefaultValueAccessor, i6.RadioControlValueAccessor, i6.NgControlStatus, i6.NgModel],\n  styles: [\".login-container[_ngcontent-%COMP%] {\\n    display: flex;\\n    flex-direction: column;\\n    align-items: center;\\n    justify-content: center;\\n    height: 100vh;\\n    \\n\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvY29tcG9uZW50cy9wb2NldG5hLXN0cmFuYS9wb2NldG5hLXN0cmFuYS5jb21wb25lbnQuY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0lBQ0ksYUFBYTtJQUNiLHNCQUFzQjtJQUN0QixtQkFBbUI7SUFDbkIsdUJBQXVCO0lBQ3ZCLGFBQWE7SUFDYixrQkFBa0I7QUFDdEIiLCJzb3VyY2VzQ29udGVudCI6WyIubG9naW4tY29udGFpbmVyIHtcclxuICAgIGRpc3BsYXk6IGZsZXg7XHJcbiAgICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xyXG4gICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcclxuICAgIGp1c3RpZnktY29udGVudDogY2VudGVyO1xyXG4gICAgaGVpZ2h0OiAxMDB2aDtcclxuICAgIC8qIFZpc2luYSBla3JhbmEgKi9cclxufSJdLCJzb3VyY2VSb290IjoiIn0= */\"]\n});","map":{"version":3,"names":["PocetnaStranaComponent","constructor","router","authService","email","password","userType","submit","console","log","loginStudent","subscribe","next","response","currentStudent","token","access_token","localStorage","setItem","navigate","error","loginProfesor","data","key","state","i0","ɵɵdirectiveInject","i1","Router","i2","AuthenticationService","selectors","decls","vars","consts","template","PocetnaStranaComponent_Template","rf","ctx","ɵɵelementStart","ɵɵlistener","PocetnaStranaComponent_Template_input_ngModelChange_2_listener","$event","ɵɵelementEnd","PocetnaStranaComponent_Template_input_ngModelChange_4_listener","PocetnaStranaComponent_Template_input_ngModelChange_7_listener","ɵɵtext","PocetnaStranaComponent_Template_input_ngModelChange_10_listener","ɵɵelement","PocetnaStranaComponent_Template_button_click_13_listener","ɵɵadvance","ɵɵproperty"],"sources":["C:\\Windows\\System32\\nest+ng\\angular-app\\src\\app\\components\\pocetna-strana\\pocetna-strana.component.ts","C:\\Windows\\System32\\nest+ng\\angular-app\\src\\app\\components\\pocetna-strana\\pocetna-strana.component.html"],"sourcesContent":["import { HttpClient } from '@angular/common/http';\nimport { Component } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { AuthenticationService } from 'src/app/auth/authentication.service';\n\n@Component({\n  selector: 'app-pocetna-strana',\n  templateUrl: './pocetna-strana.component.html',\n  styleUrls: ['./pocetna-strana.component.css']\n})\nexport class PocetnaStranaComponent {\n\n\n  constructor(private router: Router,private authService: AuthenticationService) {} // Inject HttpClient servis\n\n\n  email: string = '';\n  password: string = '';\n  userType: string = 'student'; // Default value\n  resStudent:any;\n  resProfesor:any;\n\n  submit() {\n    console.log('Email:', this.email);\n    console.log('Password:', this.password);\n    console.log('User Type:', this.userType);\n\n    if (this.userType === 'student') {\n      this.authService.loginStudent(this.email, this.password).subscribe({\n        next: (response: any) => {\n          \n          console.log(this.authService.currentStudent);\n          const token = response.access_token;\n          localStorage.setItem(this.email, token);\n          this.router.navigate(['/student']);\n        },\n        error: (error) => {\n          console.error('Greška pri prijavi:', error);\n        }\n      });\n    } else if (this.userType === 'profesor') {\n      this.authService.loginProfesor(this.email, this.password).subscribe({\n        next: (response: any) => {\n          const token = response.access_token;\n          localStorage.setItem('jwtToken', token);\n          const data = { key: this.email };\n          this.router.navigate(['/profesor'], { state: data });\n        },\n        error: (error) => {\n          console.error('Greška pri prijavi:', error);\n        }\n      });\n    }\n  }\n\n\n\n\n  \n}\n","<div class=\"login-container\">\n    <mat-form-field>\n        <input matInput placeholder=\"Email\" [(ngModel)]=\"email\">\n    </mat-form-field>\n    <mat-form-field>\n        <input matInput type=\"password\" placeholder=\"Password\" [(ngModel)]=\"password\">\n    </mat-form-field>\n    <div class=\"user-type\">\n        <label>\n            <input type=\"radio\" [(ngModel)]=\"userType\" value=\"student\">\n            Student\n        </label>\n        <label>\n            <input type=\"radio\" [(ngModel)]=\"userType\" value=\"profesor\">\n            Profesor\n        </label>\n    </div>\n    <br>\n    <button mat-raised-button color=\"primary\" (click)=\"submit()\">Submit</button>\n</div>"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}